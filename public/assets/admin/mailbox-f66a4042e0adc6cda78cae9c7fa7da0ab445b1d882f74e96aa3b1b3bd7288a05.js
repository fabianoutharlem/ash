/*! iCheck v1.0.2 by Damir Sultanov, http://git.io/arlzeA, MIT Licensed */
!function(t){function e(t,e,r){var s=t[0],a=/er/.test(r)?_indeterminate:/bl/.test(r)?f:u,o=r==_update?{checked:s[u],disabled:s[f],indeterminate:"true"==t.attr(_indeterminate)||"false"==t.attr(_determinate)}:s[a];if(/^(ch|di|in)/.test(r)&&!o)i(t,a);else if(/^(un|en|de)/.test(r)&&o)n(t,a);else if(r==_update)for(var l in o)o[l]?i(t,l,!0):n(t,l,!0);else e&&"toggle"!=r||(e||t[_callback]("ifClicked"),o?s[_type]!==c&&n(t,a):i(t,a))}function i(e,i,r){var p=e[0],g=e.parent(),m=i==u,v=i==_indeterminate,y=i==f,b=v?_determinate:m?d:"enabled",x=s(e,b+a(p[_type])),w=s(e,i+a(p[_type]));if(!0!==p[i]){if(!r&&i==u&&p[_type]==c&&p.name){var _=e.closest("form"),k='input[name="'+p.name+'"]',k=_.length?_.find(k):t(k);k.each(function(){this!==p&&t(this).data(l)&&n(t(this),i)})}v?(p[i]=!0,p[u]&&n(e,u,"force")):(r||(p[i]=!0),m&&p[_indeterminate]&&n(e,_indeterminate,!1)),o(e,m,i,r)}p[f]&&s(e,_cursor,!0)&&g.find("."+h).css(_cursor,"default"),g[_add](w||s(e,i)||""),g.attr("role")&&!v&&g.attr("aria-"+(y?f:u),"true"),g[_remove](x||s(e,b)||"")}function n(t,e,i){var n=t[0],r=t.parent(),l=e==u,c=e==_indeterminate,p=e==f,g=c?_determinate:l?d:"enabled",m=s(t,g+a(n[_type])),v=s(t,e+a(n[_type]));!1!==n[e]&&(!c&&i&&"force"!=i||(n[e]=!1),o(t,l,g,i)),!n[f]&&s(t,_cursor,!0)&&r.find("."+h).css(_cursor,"pointer"),r[_remove](v||s(t,e)||""),r.attr("role")&&!c&&r.attr("aria-"+(p?f:u),"false"),r[_add](m||s(t,g)||"")}function r(e,i){e.data(l)&&(e.parent().html(e.attr("style",e.data(l).s||"")),i&&e[_callback](i),e.off(".i").unwrap(),t(_label+'[for="'+e[0].id+'"]').add(e.closest(_label)).off(".i"))}function s(t,e,i){return t.data(l)?t.data(l).o[e+(i?"":"Class")]:void 0}function a(t){return t.charAt(0).toUpperCase()+t.slice(1)}function o(t,e,i,n){n||(e&&t[_callback]("ifToggled"),t[_callback]("ifChanged")[_callback]("if"+a(i)))}var l="iCheck",h=l+"-helper",c="radio",u="checked",d="un"+u,f="disabled";_determinate="determinate",_indeterminate="in"+_determinate,_update="update",_type="type",_click="click",_touch="touchbegin.i touchend.i",_add="addClass",_remove="removeClass",_callback="trigger",_label="label",_cursor="cursor",_mobile=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent),t.fn[l]=function(s,a){var o='input[type="checkbox"], input[type="'+c+'"]',d=t(),p=function(e){e.each(function(){var e=t(this);d=e.is(o)?d.add(e):d.add(e.find(o))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(s))return s=s.toLowerCase(),p(this),d.each(function(){var i=t(this);"destroy"==s?r(i,"ifDestroyed"):e(i,!0,s),t.isFunction(a)&&a()});if("object"!=typeof s&&s)return this;var g=t.extend({checkedClass:u,disabledClass:f,indeterminateClass:_indeterminate,labelHover:!0},s),m=g.handle,v=g.hoverClass||"hover",y=g.focusClass||"focus",b=g.activeClass||"active",x=!!g.labelHover,w=g.labelHoverClass||"hover",_=0|(""+g.increaseArea).replace("%","");return"checkbox"!=m&&m!=c||(o='input[type="'+m+'"]'),-50>_&&(_=-50),p(this),d.each(function(){var s=t(this);r(s);var a=this,o=a.id,d=-_+"%",p=100+2*_+"%",p={position:"absolute",top:d,left:d,display:"block",width:p,height:p,margin:0,padding:0,background:"#fff",border:0,opacity:0},d=_mobile?{position:"absolute",visibility:"hidden"}:_?p:{position:"absolute",opacity:0},m="checkbox"==a[_type]?g.checkboxClass||"icheckbox":g.radioClass||"i"+c,k=t(_label+'[for="'+o+'"]').add(s.closest(_label)),C=!!g.aria,M=l+"-"+Math.random().toString(36).substr(2,6),S='<div class="'+m+'" '+(C?'role="'+a[_type]+'" ':"");C&&k.each(function(){S+='aria-labelledby="',this.id?S+=this.id:(this.id=M,S+=M),S+='"'}),S=s.wrap(S+"/>")[_callback]("ifCreated").parent().append(g.insert),p=t('<ins class="'+h+'"/>').css(p).appendTo(S),s.data(l,{o:g,s:s.attr("style")}).css(d),g.inheritClass&&S[_add](a.className||""),g.inheritID&&o&&S.attr("id",l+"-"+o),"static"==S.css("position")&&S.css("position","relative"),e(s,!0,_update),k.length&&k.on(_click+".i mouseover.i mouseout.i "+_touch,function(i){var n=i[_type],r=t(this);if(!a[f]){if(n==_click){if(t(i.target).is("a"))return;e(s,!1,!0)}else x&&(/ut|nd/.test(n)?(S[_remove](v),r[_remove](w)):(S[_add](v),r[_add](w)));if(!_mobile)return!1;i.stopPropagation()}}),s.on(_click+".i focus.i blur.i keyup.i keydown.i keypress.i",function(t){var e=t[_type];return t=t.keyCode,e==_click?!1:"keydown"==e&&32==t?(a[_type]==c&&a[u]||(a[u]?n(s,u):i(s,u)),!1):void("keyup"==e&&a[_type]==c?!a[u]&&i(s,u):/us|ur/.test(e)&&S["blur"==e?_remove:_add](y))}),p.on(_click+" mousedown mouseup mouseover mouseout "+_touch,function(t){var i=t[_type],n=/wn|up/.test(i)?b:v;if(!a[f]){if(i==_click?e(s,!1,!0):(/wn|er|in/.test(i)?S[_add](n):S[_remove](n+" "+b),k.length&&x&&n==v&&k[/ut|nd/.test(i)?_remove:_add](w)),!_mobile)return!1;t.stopPropagation()}})})}}(window.jQuery||window.Zepto),!function(t){"function"==typeof define&&define.amd?define(["jquery","codemirror"],t):t(window.jQuery,window.CodeMirror)}(function(t,e){"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(t,e){var i,n,r=this.length>>>0,s=!1;for(1<arguments.length&&(n=e,s=!0),i=0;r>i;++i)this.hasOwnProperty(i)&&(s?n=t(n,this[i],i,this):(n=this[i],s=!0));if(!s)throw new TypeError("Reduce of empty array with no initial value");return n});var i={bMac:navigator.appVersion.indexOf("Mac")>-1,bMSIE:navigator.userAgent.indexOf("MSIE")>-1||navigator.userAgent.indexOf("Trident")>-1,bFF:navigator.userAgent.indexOf("Firefox")>-1,jqueryVersion:parseFloat(t.fn.jquery),bCodeMirror:!!e},n=function(){var t=function(t){return function(e){return t===e}},e=function(t,e){return t===e},i=function(){return!0},n=function(){return!1},r=function(t){return function(){return!t.apply(t,arguments)}},s=function(t){return t};return{eq:t,eq2:e,ok:i,fail:n,not:r,self:s}}(),r=function(){var t=function(t){return t[0]},e=function(t){return t[t.length-1]},i=function(t){return t.slice(0,t.length-1)},r=function(t){return t.slice(1)},s=function(t,e){var i=t.indexOf(e);return-1===i?null:t[i+1]},a=function(t,e){var i=t.indexOf(e);return-1===i?null:t[i-1]},o=function(t,e){return e=e||n.self,t.reduce(function(t,i){return t+e(i)},0)},l=function(t){for(var e=[],i=-1,n=t.length;++i<n;)e[i]=t[i];return e},h=function(i,n){if(0===i.length)return[];var s=r(i);return s.reduce(function(t,i){var r=e(t);return n(e(r),i)?r[r.length]=i:t[t.length]=[i],t},[[t(i)]])},c=function(t){for(var e=[],i=0,n=t.length;n>i;i++)t[i]&&e.push(t[i]);return e};return{head:t,last:e,initial:i,tail:r,prev:a,next:s,sum:o,from:l,compact:c,clusterBy:h}}(),s=function(){var e=function(e){return e&&t(e).hasClass("note-editable")},a=function(e){return e&&t(e).hasClass("note-control-sizing")},o=function(t){var e=function(e){return function(){return t.find(e)}};return{editor:function(){return t},dropzone:e(".note-dropzone"),toolbar:e(".note-toolbar"),editable:e(".note-editable"),codable:e(".note-codable"),statusbar:e(".note-statusbar"),popover:e(".note-popover"),handle:e(".note-handle"),dialog:e(".note-dialog")}},l=function(t){return function(e){return e&&e.nodeName===t}},h=function(t){return t&&/^DIV|^P|^LI|^H[1-7]/.test(t.nodeName)},c=function(t){return t&&/^UL|^OL/.test(t.nodeName)},u=function(t){return t&&/^TD|^TH/.test(t.nodeName)},d=function(t,i){for(;t;){if(i(t))return t;if(e(t))break;t=t.parentNode}return null},f=function(t,e){e=e||n.fail;var i=[];return d(t,function(t){return i.push(t),e(t)}),i},p=function(e,i){for(var n=f(e),r=i;r;r=r.parentNode)if(t.inArray(r,n)>-1)return r;return null},g=function(t,e){var i=[],n=!1,r=!1;return function s(a){if(a){if(a===t&&(n=!0),n&&!r&&i.push(a),a===e)return void(r=!0);for(var o=0,l=a.childNodes.length;l>o;o++)s(a.childNodes[o])}}(p(t,e)),i},m=function(t,e){e=e||n.fail;for(var i=[];t&&(i.push(t),!e(t));)t=t.previousSibling;return i},v=function(t,e){e=e||n.fail;for(var i=[];t&&(i.push(t),!e(t));)t=t.nextSibling;return i},y=function(t,e){var i=[];return e=e||n.ok,function r(n){t!==n&&e(n)&&i.push(n);for(var s=0,a=n.childNodes.length;a>s;s++)r(n.childNodes[s])}(t),i},b=function(t,e){var i=e.nextSibling,n=e.parentNode;return i?n.insertBefore(t,i):n.appendChild(t),t},x=function(e,i){return t.each(i,function(t,i){e.appendChild(i)}),e},w=l("#text"),_=function(t){return w(t)?t.nodeValue.length:t.childNodes.length},k=function(t){for(var e=0;t=t.previousSibling;)e+=1;return e},C=function(e,i){var s=r.initial(f(i,n.eq(e)));return t.map(s,k).reverse()},M=function(t,e){for(var i=t,n=0,r=e.length;r>n;n++)i=i.childNodes[e[n]];return i},S=function(t,e){if(0===e)return t;if(e>=_(t))return t.nextSibling;if(w(t))return t.splitText(e);var i=t.childNodes[e];return t=b(t.cloneNode(!1),t),x(t,v(i))},T=function(t,e,i){var r=f(e,n.eq(t));return 1===r.length?S(e,i):r.reduce(function(t,n){var r=n.cloneNode(!1);return b(r,n),t===e&&(t=S(t,i)),x(r,v(t)),r})},D=function(t,e){if(t&&t.parentNode){if(t.removeNode)return t.removeNode(e);var i=t.parentNode;if(!e){var n,r,s=[];for(n=0,r=t.childNodes.length;r>n;n++)s.push(t.childNodes[n]);for(n=0,r=s.length;r>n;n++)i.insertBefore(s[n],t)}i.removeChild(t)}},A=function(t){return s.isTextarea(t[0])?t.val():t.html()};return{blank:i.bMSIE?"&nbsp;":"<br/>",emptyPara:"<p><br/></p>",isEditable:e,isControlSizing:a,buildLayoutInfo:o,isText:w,isPara:h,isList:c,isTable:l("TABLE"),isCell:u,isAnchor:l("A"),isDiv:l("DIV"),isLi:l("LI"),isSpan:l("SPAN"),isB:l("B"),isU:l("U"),isS:l("S"),isI:l("I"),isImg:l("IMG"),isTextarea:l("TEXTAREA"),ancestor:d,listAncestor:f,listNext:v,listPrev:m,listDescendant:y,commonAncestor:p,listBetween:g,insertAfter:b,position:k,makeOffsetPath:C,fromOffsetPath:M,split:T,remove:D,html:A}}(),a={version:"0.5.2",options:{width:null,height:null,focus:!1,tabsize:4,styleWithSpan:!0,disableLinkTarget:!1,disableDragAndDrop:!1,codemirror:null,lang:"en-US",direction:null,toolbar:[["style",["style"]],["font",["bold","italic","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview"]],["help",["help"]]],oninit:null,onfocus:null,onblur:null,onenter:null,onkeyup:null,onkeydown:null,onImageUpload:null,onImageUploadError:null,onToolbarClick:null,keyMap:{pc:{"CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule"},mac:{"CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule"}}},lang:{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",strike:"Strike",clear:"Remove Font Style",height:"Line Height",name:"Font Family",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",dragImageHere:"Drag an image here",selectFromFiles:"Select from files",url:"Image URL",remove:"Remove Image"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, or DailyMotion)"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"BackColor",foreground:"FontColor",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style"},history:{undo:"Undo",redo:"Redo"}}}},o=function(){var e=function(e){return t.Deferred(function(i){t.extend(new FileReader,{onload:function(t){var e=t.target.result;i.resolve(e)},onerror:function(){i.reject(this)}}).readAsDataURL(e)}).promise()},i=function(e){return t.Deferred(function(i){t("<img>").one("load",function(){i.resolve(t(this))}).one("error abort",function(){i.reject(t(this))}).css({display:"none"}).appendTo(document.body).attr("src",e)}).promise()};return{readFileAsDataURL:e,createImage:i}}(),l={isEdit:function(t){return-1!==[8,9,13,32].indexOf(t)},nameFromCode:{8:"BACKSPACE",9:"TAB",13:"ENTER",32:"SPACE",48:"NUM0",49:"NUM1",50:"NUM2",51:"NUM3",52:"NUM4",53:"NUM5",54:"NUM6",55:"NUM7",56:"NUM8",66:"B",69:"E",73:"I",74:"J",75:"K",76:"L",82:"R",83:"S",85:"U",89:"Y",90:"Z",191:"SLASH",219:"LEFTBRACKET",220:"BACKSLASH",221:"RIGHTBRACKET"}},h=function(){var e=function(e,n){if(i.jqueryVersion<1.9){var r={};return t.each(n,function(t,i){r[i]=e.css(i)}),r}return e.css.call(e,n)};this.stylePara=function(e,i){t.each(e.nodes(s.isPara),function(e,n){t(n).css(i)})},this.current=function(i,n){var r=t(s.isText(i.sc)?i.sc.parentNode:i.sc),a=["font-family","font-size","text-align","list-style-type","line-height"],o=e(r,a)||{};if(o["font-size"]=parseInt(o["font-size"],10),o["font-bold"]=document.queryCommandState("bold")?"bold":"normal",o["font-italic"]=document.queryCommandState("italic")?"italic":"normal",o["font-underline"]=document.queryCommandState("underline")?"underline":"normal",o["font-strikethrough"]=document.queryCommandState("strikeThrough")?"strikethrough":"normal",i.isOnList()){var l=["circle","disc","disc-leading-zero","square"],h=t.inArray(o["list-style-type"],l)>-1;o["list-style"]=h?"unordered":"ordered"}else o["list-style"]="none";var c=s.ancestor(i.sc,s.isPara);if(c&&c.style["line-height"])o["line-height"]=c.style.lineHeight;else{var u=parseInt(o["line-height"],10)/parseInt(o["font-size"],10);o["line-height"]=u.toFixed(1)}return o.image=s.isImg(n)&&n,o.anchor=i.isOnAnchor()&&s.ancestor(i.sc,s.isAnchor),o.aAncestor=s.listAncestor(i.sc,s.isEditable),o}},c=function(){var e=!!document.createRange,i=function(t,e){var i,n,a=t.parentElement(),o=document.body.createTextRange(),l=r.from(a.childNodes);for(i=0;i<l.length;i++)if(!s.isText(l[i])){if(o.moveToElementText(l[i]),o.compareEndPoints("StartToStart",t)>=0)break;n=l[i]}if(0!==i&&s.isText(l[i-1])){var h=document.body.createTextRange(),c=null;h.moveToElementText(n||a),h.collapse(!n),c=n?n.nextSibling:a.firstChild;var u=t.duplicate();u.setEndPoint("StartToStart",h);for(var d=u.text.replace(/[\r\n]/g,"").length;d>c.nodeValue.length&&c.nextSibling;)d-=c.nodeValue.length,c=c.nextSibling;c.nodeValue,e&&c.nextSibling&&s.isText(c.nextSibling)&&d===c.nodeValue.length&&(d-=c.nodeValue.length,c=c.nextSibling),a=c,i=d}return{cont:a,offset:i}},a=function(t){var e=function(t,i){var a,o;if(s.isText(t)){var l=s.listPrev(t,n.not(s.isText)),h=r.last(l).previousSibling;a=h||t.parentNode,i+=r.sum(r.tail(l),s.length),o=!h}else{if(a=t.childNodes[i]||t,s.isText(a))return e(a,i);i=0,o=!1}return{cont:a,collapseToStart:o,offset:i}},i=document.body.createTextRange(),a=e(t.cont,t.offset);return i.moveToElementText(a.cont),i.collapse(a.collapseToStart),i.moveStart("character",a.offset),i},o=function(i,o,l,h){this.sc=i,this.so=o,this.ec=l,this.eo=h;var c=function(){if(e){var t=document.createRange();return t.setStart(i,o),t.setEnd(l,h),t}var n=a({cont:i,offset:o});return n.setEndPoint("EndToEnd",a({cont:l,offset:h})),n};this.select=function(){var t=c();if(e){var i=document.getSelection();i.rangeCount>0&&i.removeAllRanges(),i.addRange(t)}else t.select()},this.nodes=function(e){var a=s.listBetween(i,l),o=r.compact(t.map(a,function(t){return s.ancestor(t,e)}));return t.map(r.clusterBy(o,n.eq2),r.head)},this.commonAncestor=function(){return s.commonAncestor(i,l)};var u=function(t){return function(){var e=s.ancestor(i,t);return!!e&&e===s.ancestor(l,t)}};this.isOnEditable=u(s.isEditable),this.isOnList=u(s.isList),this.isOnAnchor=u(s.isAnchor),this.isOnCell=u(s.isCell),this.isCollapsed=function(){return i===l&&o===h},this.insertNode=function(t){var i=c();e?i.insertNode(t):i.pasteHTML(t.outerHTML)},this.toString=function(){var t=c();return e?t.toString():t.text},this.bookmark=function(t){return{s:{path:s.makeOffsetPath(t,i),offset:o},e:{path:s.makeOffsetPath(t,l),offset:h}}}};return{create:function(t,n,r,s){if(0===arguments.length)if(e){var a=document.getSelection();if(0===a.rangeCount)return null;var l=a.getRangeAt(0);t=l.startContainer,n=l.startOffset,r=l.endContainer,s=l.endOffset}else{var h=document.selection.createRange(),c=h.duplicate();c.collapse(!1);var u=h;u.collapse(!0);var d=i(u,!0),f=i(c,!1);t=d.cont,n=d.offset,r=f.cont,s=f.offset}else 2===arguments.length&&(r=t,s=n);return new o(t,n,r,s)},createFromNode:function(t){return this.create(t,0,t,1)},createFromBookmark:function(t,e){var i=s.fromOffsetPath(t,e.s.path),n=e.s.offset,r=s.fromOffsetPath(t,e.e.path),a=e.e.offset;return new o(i,n,r,a)}}}(),u=function(){this.tab=function(t,e){var i=s.ancestor(t.commonAncestor(),s.isCell),n=s.ancestor(i,s.isTable),a=s.listDescendant(n,s.isCell),o=r[e?"prev":"next"](a,i);o&&c.create(o,0).select()},this.createTable=function(e,i){for(var n,r=[],a=0;e>a;a++)r.push("<td>"+s.blank+"</td>");n=r.join("");for(var o,l=[],h=0;i>h;h++)l.push("<tr>"+n+"</tr>");o=l.join("");var c='<table class="table table-bordered">'+o+"</table>";return t(c)[0]}},d=function(){var e=new h,n=new u;this.saveRange=function(t){t.data("range",c.create())},this.restoreRange=function(t){var e=t.data("range");e&&e.select()},this.currentStyle=function(t){var i=c.create();return i.isOnEditable()&&e.current(i,t)},this.undo=function(t){t.data("NoteHistory").undo(t)},this.redo=function(t){t.data("NoteHistory").redo(t)};for(var r=this.recordUndo=function(t){t.data("NoteHistory").recordUndo(t)},a=["bold","italic","underline","strikethrough","justifyLeft","justifyCenter","justifyRight","justifyFull","insertOrderedList","insertUnorderedList","indent","outdent","formatBlock","removeFormat","backColor","foreColor","insertHorizontalRule","fontName"],l=0,d=a.length;d>l;l++)this[a[l]]=function(t){return function(e,i){r(e),document.execCommand(t,!1,i)}}(a[l]);var f=function(e,i,n){r(e);var a=new Array(n+1).join("&nbsp;");i.insertNode(t('<span id="noteTab">'+a+"</span>")[0]);var o=t("#noteTab").removeAttr("id");i=c.create(o[0],1),i.select(),s.remove(o[0])};this.tab=function(t,e){var i=c.create();i.isCollapsed()&&i.isOnCell()?n.tab(i):f(t,i,e.tabsize)},this.untab=function(){var t=c.create();t.isCollapsed()&&t.isOnCell()&&n.tab(t,!0)},this.insertImage=function(t,e){o.createImage(e).then(function(e){r(t),e.css({display:"",width:Math.min(t.width(),e.width())}),c.create().insertNode(e[0])}).fail(function(){var e=t.data("callbacks");e.onImageUploadError&&e.onImageUploadError()})},this.insertVideo=function(e,i){r(e);var n,s=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,a=i.match(s),o=/\/\/instagram.com\/p\/(.[a-zA-Z0-9]*)/,l=i.match(o),h=/\/\/vine.co\/v\/(.[a-zA-Z0-9]*)/,u=i.match(h),d=/\/\/(player.)?vimeo.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/,f=i.match(d),p=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/,g=i.match(p);if(a&&11===a[2].length){var m=a[2];n=t("<iframe>").attr("src","//www.youtube.com/embed/"+m).attr("width","640").attr("height","360")}else l&&l[0].length>0?n=t("<iframe>").attr("src",l[0]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true"):u&&u[0].length>0?n=t("<iframe>").attr("src",u[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed"):f&&f[3].length>0?n=t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("src","//player.vimeo.com/video/"+f[3]).attr("width","640").attr("height","360"):g&&g[2].length>0&&(n=t("<iframe>").attr("src","//www.dailymotion.com/embed/video/"+g[2]).attr("width","640").attr("height","360"));n&&(n.attr("frameborder",0),c.create().insertNode(n[0]))},this.formatBlock=function(t,e){r(t),e=i.bMSIE?"<"+e+">":e,document.execCommand("FormatBlock",!1,e)},this.formatPara=function(t){this.formatBlock(t,"P")};for(var l=1;6>=l;l++)this["formatH"+l]=function(t){return function(e){this.formatBlock(e,"H"+t)}}(l);this.fontSize=function(t,e){r(t),document.execCommand("fontSize",!1,3),i.bFF?t.find("font[size=3]").removeAttr("size").css("font-size",e+"px"):t.find("span").filter(function(){return"medium"===this.style.fontSize}).css("font-size",e+"px")},this.lineHeight=function(t,i){r(t),e.stylePara(c.create(),{lineHeight:i})},this.unlink=function(t){var e=c.create();if(e.isOnAnchor()){r(t);var i=s.ancestor(e.sc,s.isAnchor);e=c.createFromNode(i),e.select(),document.execCommand("unlink")}},this.createLink=function(e,n,a){var o=c.create();r(e);var l=n;if(-1!==n.indexOf("@")&&-1===n.indexOf(":")?l="mailto:"+n:-1===n.indexOf("://")&&(l="http://"+n),(i.bMSIE||i.bFF)&&o.isCollapsed()){o.insertNode(t('<A id="linkAnchor">'+n+"</A>")[0]);var h=t("#linkAnchor").attr("href",l).removeAttr("id");o=c.createFromNode(h[0]),o.select()}else document.execCommand("createlink",!1,l),o=c.create();t.each(o.nodes(s.isAnchor),function(e,i){a?t(i).attr("target","_blank"):t(i).removeAttr("target")})},this.getLinkInfo=function(){var e=c.create(),i=!0,n="";if(e.isOnAnchor()){var r=s.ancestor(e.sc,s.isAnchor);e=c.createFromNode(r),i="_blank"===t(r).attr("target"),n=r.href}return{text:e.toString(),url:n,newWindow:i}},this.getVideoInfo=function(){var t=c.create();if(t.isOnAnchor()){var e=s.ancestor(t.sc,s.isAnchor);t=c.createFromNode(e)}return{text:t.toString()}},this.color=function(t,e){var i=JSON.parse(e),n=i.foreColor,s=i.backColor;r(t),n&&document.execCommand("foreColor",!1,n),s&&document.execCommand("backColor",!1,s)},this.insertTable=function(t,e){r(t);var i=e.split("x");c.create().insertNode(n.createTable(i[0],i[1]))},this.floatMe=function(t,e,i){r(t),i.css("float",e)},this.resize=function(t,e,i){r(t),i.css({width:t.width()*e+"px",height:""})},this.resizeTo=function(t,e,i){var n;if(i){var r=t.y/t.x,s=e.data("ratio");n={width:s>r?t.x:t.y/s,height:s>r?t.x*s:t.y}}else n={width:t.x,height:t.y};e.css(n)},this.removeMedia=function(t,e,i){r(t),i.detach()}},f=function(){var t=[],e=[],i=function(t){var e=t[0],i=c.create();return{contents:t.html(),bookmark:i.bookmark(e),scrollTop:t.scrollTop()}},n=function(t,e){t.html(e.contents).scrollTop(e.scrollTop),c.createFromBookmark(t[0],e.bookmark).select()};this.undo=function(r){var s=i(r);0!==t.length&&(n(r,t.pop()),e.push(s))},this.redo=function(r){var s=i(r);0!==e.length&&(n(r,e.pop()),t.push(s))},this.recordUndo=function(n){e=[],t.push(i(n))}},p=function(){this.update=function(e,i){var n=function(e,i){e.find(".dropdown-menu li a").each(function(){var e=t(this).data("value")+""==i+"";this.className=e?"checked":""})},s=function(t,i){var n=e.find(t);n.toggleClass("active",i())},a=e.find(".note-fontname");if(a.length>0){var o=i["font-family"];o&&(o=r.head(o.split(",")),o=o.replace(/\'/g,""),a.find(".note-current-fontname").text(o),n(a,o))}var l=e.find(".note-fontsize");l.find(".note-current-fontsize").text(i["font-size"]),n(l,parseFloat(i["font-size"]));var h=e.find(".note-height");n(h,parseFloat(i["line-height"])),s('button[data-event="bold"]',function(){return"bold"===i["font-bold"]}),s('button[data-event="italic"]',function(){return"italic"===i["font-italic"]}),s('button[data-event="underline"]',function(){return"underline"===i["font-underline"]}),s('button[data-event="strikethrough"]',function(){return"strikethrough"===i["font-strikethrough"]}),s('button[data-event="justifyLeft"]',function(){return"left"===i["text-align"]||"start"===i["text-align"]}),s('button[data-event="justifyCenter"]',function(){return"center"===i["text-align"]}),s('button[data-event="justifyRight"]',function(){return"right"===i["text-align"]}),s('button[data-event="justifyFull"]',function(){return"justify"===i["text-align"]}),s('button[data-event="insertUnorderedList"]',function(){return"unordered"===i["list-style"]}),s('button[data-event="insertOrderedList"]',function(){return"ordered"===i["list-style"]})},this.updateRecentColor=function(e,i,n){var r=t(e).closest(".note-color"),s=r.find(".note-recent-color"),a=JSON.parse(s.attr("data-value"));a[i]=n,s.attr("data-value",JSON.stringify(a));var o="backColor"===i?"background-color":"color";s.find("i").css(o,n)},this.updateFullscreen=function(t,e){var i=t.find('button[data-event="fullscreen"]');i.toggleClass("active",e)},this.updateCodeview=function(t,e){var i=t.find('button[data-event="codeview"]');i.toggleClass("active",e)},this.activate=function(t){t.find("button").not('button[data-event="codeview"]').removeClass("disabled")},this.deactivate=function(t){t.find("button").not('button[data-event="codeview"]').addClass("disabled")}},g=function(){var e=function(e,i){var n=t(i),r=n.position(),s=n.height();e.css({display:"block",left:r.left,top:r.top+s})};this.update=function(t,i){var n=t.find(".note-link-popover");if(i.anchor){var r=n.find("a");r.attr("href",i.anchor.href).html(i.anchor.href),e(n,i.anchor)}else n.hide();var s=t.find(".note-image-popover");i.image?e(s,i.image):s.hide()},this.hide=function(t){t.children().hide()}},m=function(){this.update=function(e,i){var n=e.find(".note-control-selection");if(i.image){var r=t(i.image),s=r.position(),a={w:r.width(),h:r.height()};n.css({display:"block",left:s.left,top:s.top,width:a.w,height:a.h}).data("target",i.image);var o=a.w+"x"+a.h;n.find(".note-control-selection-info").text(o)}else n.hide()},this.hide=function(t){t.children().hide()}},v=function(){var e=function(t,e){t.toggleClass("disabled",!e),t.attr("disabled",!e)};this.showImageDialog=function(i,n){return t.Deferred(function(t){var r=n.find(".note-image-dialog"),s=n.find(".note-image-input"),a=n.find(".note-image-url"),o=n.find(".note-image-btn");r.one("shown.bs.modal",function(){s.replaceWith(s.clone().on("change",function(){r.modal("hide"),t.resolve(this.files)})),o.click(function(e){e.preventDefault(),r.modal("hide"),t.resolve(a.val())}),a.keyup(function(){e(o,a.val())}).val("").focus()}).one("hidden.bs.modal",function(){i.focus(),s.off("change"),a.off("keyup"),o.off("click")}).modal("show")})},this.showVideoDialog=function(i,n,r){return t.Deferred(function(t){var s=n.find(".note-video-dialog"),a=s.find(".note-video-url"),o=s.find(".note-video-btn");s.one("shown.bs.modal",function(){a.val(r.text).keyup(function(){e(o,a.val())}).trigger("keyup").trigger("focus"),o.click(function(e){e.preventDefault(),s.modal("hide"),t.resolve(a.val())})}).one("hidden.bs.modal",function(){i.focus(),a.off("keyup"),o.off("click")}).modal("show")})},this.showLinkDialog=function(i,n,r){return t.Deferred(function(t){var s=n.find(".note-link-dialog"),a=s.find(".note-link-text"),o=s.find(".note-link-url"),l=s.find(".note-link-btn"),h=s.find("input[type=checkbox]");s.one("shown.bs.modal",function(){a.val(r.text),o.keyup(function(){e(l,o.val()),r.text||a.val(o.val())}).val(r.url).trigger("focus"),h.prop("checked",r.newWindow),l.one("click",function(e){e.preventDefault(),s.modal("hide"),t.resolve(o.val(),h.is(":checked"))})}).one("hidden.bs.modal",function(){i.focus(),o.off("keyup")}).modal("show")}).promise()},this.showHelpDialog=function(t,e){var i=e.find(".note-help-dialog");i.one("hidden.bs.modal",function(){t.focus()}).modal("show")}},y=function(){var n=new d,a=new p,h=new g,c=new m,u=new v,y=function(e){var i=t(e).closest(".note-editor");return i.length>0&&s.buildLayoutInfo(i)},b=function(e,i){n.restoreRange(e);var r=e.data("callbacks");r.onImageUpload?r.onImageUpload(i,n,e):t.each(i,function(t,i){o.readFileAsDataURL(i).then(function(t){n.insertImage(e,t)}).fail(function(){r.onImageUploadError&&r.onImageUploadError()})})},x=function(t){s.isImg(t.target)&&t.preventDefault()},w=function(t){var e=y(t.currentTarget||t.target),i=n.currentStyle(t.target);i&&(a.update(e.toolbar(),i),h.update(e.popover(),i),c.update(e.handle(),i))},_=function(t){var e=y(t.currentTarget||t.target);h.hide(e.popover()),c.hide(e.handle())},k=function(t){var e=t.originalEvent;if(e.clipboardData&&e.clipboardData.items&&e.clipboardData.items.length){var i=y(t.currentTarget||t.target),n=r.head(e.clipboardData.items),s="file"===n.kind&&-1!==n.type.indexOf("image/");s&&b(i.editable(),[n.getAsFile()])}},C=function(e){if(s.isControlSizing(e.target)){var i=y(e.target),r=i.handle(),a=i.popover(),o=i.editable(),l=i.editor(),u=r.find(".note-control-selection").data("target"),d=t(u),f=d.offset(),p=t(document).scrollTop();l.on("mousemove",function(t){n.resizeTo({x:t.clientX-f.left,y:t.clientY-(f.top-p)},d,!t.shiftKey),c.update(r,{image:u}),h.update(a,{image:u})}).one("mouseup",function(){l.off("mousemove")}),d.data("ratio")||d.data("ratio",d.height()/d.width()),n.recordUndo(o),e.stopPropagation(),e.preventDefault()}},M=function(e){var i=t(e.target).closest("[data-event]");i.length>0&&e.preventDefault()},S=function(r){var o=t(r.target).closest("[data-event]");if(o.length>0){var l,h,c,d=o.attr("data-event"),f=o.attr("data-value"),p=y(r.target),g=p.editor(),m=p.toolbar(),v=p.dialog(),x=p.editable(),_=p.codable(),k=g.data("options");if(-1!==t.inArray(d,["resize","floatMe","removeMedia"])){var C=p.handle(),M=C.find(".note-control-selection");c=t(M.data("target"))}if(n[d]&&(x.trigger("focus"),n[d](x,f,c)),-1!==t.inArray(d,["backColor","foreColor"]))a.updateRecentColor(o[0],d,f);else if("showLinkDialog"===d){x.focus();var S=n.getLinkInfo();n.saveRange(x),u.showLinkDialog(x,v,S).then(function(t,e){n.restoreRange(x),n.createLink(x,t,e)})}else if("showImageDialog"===d)x.focus(),u.showImageDialog(x,v).then(function(t){"string"==typeof t?(n.restoreRange(x),n.insertImage(x,t)):b(x,t)});else if("showVideoDialog"===d){x.focus();var T=n.getVideoInfo();n.saveRange(x),u.showVideoDialog(x,v,T).then(function(t){n.restoreRange(x),n.insertVideo(x,t)})}else if("showHelpDialog"===d)u.showHelpDialog(x,v);else if("fullscreen"===d){var D=t("html, body"),A=function(t){g.css("width",t.w),x.css("height",t.h),_.css("height",t.h),_.data("cmEditor")&&_.data("cmEditor").setSize(null,t.h)};g.toggleClass("fullscreen");var E=g.hasClass("fullscreen");E?(x.data("orgHeight",x.css("height")),t(window).on("resize",function(){A({w:t(window).width(),h:t(window).height()-m.outerHeight()})}).trigger("resize"),D.css("overflow","hidden")):(t(window).off("resize"),A({w:k.width||"",h:x.data("orgHeight")}),D.css("overflow","auto")),a.updateFullscreen(m,E)}else if("codeview"===d){g.toggleClass("codeview");var P=g.hasClass("codeview");if(P){if(_.val(x.html()),_.height(x.height()),a.deactivate(m),_.focus(),i.bCodeMirror){h=e.fromTextArea(_[0],t.extend({mode:"text/html",lineNumbers:!0},k.codemirror));var L=g.data("options").codemirror.tern||!1;L&&(l=new e.TernServer(L),h.ternServer=l,h.on("cursorActivity",function(t){l.updateArgHints(t)})),h.setSize(null,x.outerHeight()),h.autoFormatRange&&h.autoFormatRange({line:0,ch:0},{line:h.lineCount(),ch:h.getTextArea().value.length}),_.data("cmEditor",h)}}else i.bCodeMirror&&(h=_.data("cmEditor"),_.val(h.getValue()),h.toTextArea()),x.html(_.val()||s.emptyPara),x.height(k.height?_.height():"auto"),a.activate(m),x.focus();a.updateCodeview(p.toolbar(),P)}w(r)}},T=24,D=function(e){var i=t(document),n=y(e.target).editable(),r=n.offset().top-i.scrollTop();i.on("mousemove",function(t){var e=t.clientY-(r+T);n.height(e)}).one("mouseup",function(){i.off("mousemove")}),e.stopPropagation(),e.preventDefault()},A=18,E=function(e){var i,n=t(e.target.parentNode),r=n.next(),s=n.find(".note-dimension-picker-mousecatcher"),a=n.find(".note-dimension-picker-highlighted"),o=n.find(".note-dimension-picker-unhighlighted");if(void 0===e.offsetX){
var l=t(e.target).offset();i={x:e.pageX-l.left,y:e.pageY-l.top}}else i={x:e.offsetX,y:e.offsetY};var h={c:Math.ceil(i.x/A)||1,r:Math.ceil(i.y/A)||1};a.css({width:h.c+"em",height:h.r+"em"}),s.attr("data-value",h.c+"x"+h.r),3<h.c&&h.c<10&&o.css({width:h.c+1+"em"}),3<h.r&&h.r<10&&o.css({height:h.r+1+"em"}),r.html(h.c+" x "+h.r)},P=function(e){var i=t(),n=e.dropzone,r=e.dropzone.find(".note-dropzone-message");t(document).on("dragenter",function(t){var s=e.editor.hasClass("codeview");s||0!==i.length||(e.editor.addClass("dragover"),n.width(e.editor.width()),n.height(e.editor.height()),r.text("Drag Image Here")),i=i.add(t.target)}).on("dragleave",function(t){i=i.not(t.target),0===i.length&&e.editor.removeClass("dragover")}).on("drop",function(){i=t(),e.editor.removeClass("dragover")}),n.on("dragenter",function(){n.addClass("hover"),r.text("Drop Image")}).on("dragleave",function(){n.removeClass("hover"),r.text("Drag Image Here")}),n.on("drop",function(t){var e=t.originalEvent.dataTransfer;if(e&&e.files){var i=y(t.currentTarget||t.target);i.editable().focus(),b(i.editable(),e.files)}t.preventDefault()}).on("dragover",!1)};this.bindKeyMap=function(t,e){var i=t.editor,r=t.editable;r.on("keydown",function(t){var s=[];t.metaKey&&s.push("CMD"),t.ctrlKey&&s.push("CTRL"),t.shiftKey&&s.push("SHIFT");var a=l.nameFromCode[t.keyCode];a&&s.push(a);var o=e[s.join("+")];o?(t.preventDefault(),n[o](r,i.data("options"))):l.isEdit(t.keyCode)&&n.recordUndo(r)})},this.attach=function(t,e){this.bindKeyMap(t,e.keyMap[i.bMac?"mac":"pc"]),t.editable.on("mousedown",x),t.editable.on("keyup mouseup",w),t.editable.on("scroll",_),t.editable.on("paste",k),e.disableDragAndDrop||P(t),t.handle.on("mousedown",C),t.toolbar.on("click",S),t.popover.on("click",S),t.toolbar.on("mousedown",M),t.popover.on("mousedown",M),t.statusbar.on("mousedown",D);var r=t.toolbar,s=r.find(".note-dimension-picker-mousecatcher");if(s.on("mousemove",E),t.editable.on("blur",function(){n.saveRange(t.editable)}),t.editor.data("options",e),e.styleWithSpan&&!i.bMSIE&&setTimeout(function(){document.execCommand("styleWithCSS",0,!0)}),t.editable.data("NoteHistory",new f),e.onenter&&t.editable.keypress(function(t){t.keyCode===l.ENTER&&e.onenter(t)}),e.onfocus&&t.editable.focus(e.onfocus),e.onblur&&t.editable.blur(e.onblur),e.onkeyup&&t.editable.keyup(e.onkeyup),e.onkeydown&&t.editable.keydown(e.onkeydown),e.onpaste&&t.editable.on("paste",e.onpaste),e.onToolbarClick&&t.toolbar.click(e.onToolbarClick),e.onChange){var a=function(){e.onChange(t.editable,t.editable.html())};i.bMSIE?t.editable.on("DOMCharacterDataModified, DOMSubtreeModified, DOMNodeInserted",a):t.editable.on("input",a)}t.editable.data("callbacks",{onAutoSave:e.onAutoSave,onImageUpload:e.onImageUpload,onImageUploadError:e.onImageUploadError,onFileUpload:e.onFileUpload,onFileUploadError:e.onFileUpload})},this.dettach=function(t){t.editable.off(),t.toolbar.off(),t.handle.off(),t.popover.off()}},b=function(){var e,n,r,a,o;e={picture:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.image+'" data-event="showImageDialog" tabindex="-1"><i class="fa fa-picture-o icon-picture"></i></button>'},link:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.link.link+'" data-event="showLinkDialog" tabindex="-1"><i class="fa fa-link icon-link"></i></button>'},video:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.video.video+'" data-event="showVideoDialog" tabindex="-1"><i class="fa fa-youtube-play icon-play"></i></button>'},table:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+t.table.table+'" data-toggle="dropdown" tabindex="-1"><i class="fa fa-table icon-table"></i> <span class="caret"></span></button><ul class="dropdown-menu"><div class="note-dimension-picker"><div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div><div class="note-dimension-picker-highlighted"></div><div class="note-dimension-picker-unhighlighted"></div></div><div class="note-dimension-display"> 1 x 1 </div></ul>'},style:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+t.style.style+'" data-toggle="dropdown" tabindex="-1"><i class="fa fa-magic icon-magic"></i> <span class="caret"></span></button><ul class="dropdown-menu"><li><a data-event="formatBlock" data-value="p">'+t.style.normal+'</a></li><li><a data-event="formatBlock" data-value="blockquote"><blockquote>'+t.style.blockquote+'</blockquote></a></li><li><a data-event="formatBlock" data-value="pre">'+t.style.pre+'</a></li><li><a data-event="formatBlock" data-value="h1"><h1>'+t.style.h1+'</h1></a></li><li><a data-event="formatBlock" data-value="h2"><h2>'+t.style.h2+'</h2></a></li><li><a data-event="formatBlock" data-value="h3"><h3>'+t.style.h3+'</h3></a></li><li><a data-event="formatBlock" data-value="h4"><h4>'+t.style.h4+'</h4></a></li><li><a data-event="formatBlock" data-value="h5"><h5>'+t.style.h5+'</h5></a></li><li><a data-event="formatBlock" data-value="h6"><h6>'+t.style.h6+"</h6></a></li></ul>"},fontname:function(t){var e=["Serif","Sans","Arial","Arial Black","Courier","Courier New","Comic Sans MS","Helvetica","Impact","Lucida Grande","Lucida Sans","Tahoma","Times","Times New Roman","Verdana"],i='<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" data-toggle="dropdown" title="'+t.font.name+'" tabindex="-1"><span class="note-current-fontname">Arial</span> <b class="caret"></b></button>';i+='<ul class="dropdown-menu">';for(var n=0;n<e.length;n++)i+='<li><a data-event="fontName" data-value="'+e[n]+'"><i class="fa fa-check icon-ok"></i> '+e[n]+"</a></li>";return i+="</ul>"},fontsize:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" data-toggle="dropdown" title="'+t.font.size+'" tabindex="-1"><span class="note-current-fontsize">11</span> <b class="caret"></b></button><ul class="dropdown-menu"><li><a data-event="fontSize" data-value="8"><i class="fa fa-check icon-ok"></i> 8</a></li><li><a data-event="fontSize" data-value="9"><i class="fa fa-check icon-ok"></i> 9</a></li><li><a data-event="fontSize" data-value="10"><i class="fa fa-check icon-ok"></i> 10</a></li><li><a data-event="fontSize" data-value="11"><i class="fa fa-check icon-ok"></i> 11</a></li><li><a data-event="fontSize" data-value="12"><i class="fa fa-check icon-ok"></i> 12</a></li><li><a data-event="fontSize" data-value="14"><i class="fa fa-check icon-ok"></i> 14</a></li><li><a data-event="fontSize" data-value="18"><i class="fa fa-check icon-ok"></i> 18</a></li><li><a data-event="fontSize" data-value="24"><i class="fa fa-check icon-ok"></i> 24</a></li><li><a data-event="fontSize" data-value="36"><i class="fa fa-check icon-ok"></i> 36</a></li></ul>'},color:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small note-recent-color" title="'+t.color.recent+'" data-event="color" data-value=\'{"backColor":"yellow"}\' tabindex="-1"><i class="fa fa-font icon-font" style="color:black;background-color:yellow;"></i></button><button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+t.color.more+'" data-toggle="dropdown" tabindex="-1"><span class="caret"></span></button><ul class="dropdown-menu"><li><div class="btn-group"><div class="note-palette-title">'+t.color.background+'</div><div class="note-color-reset" data-event="backColor" data-value="inherit" title="'+t.color.transparent+'">'+t.color.setTransparent+'</div><div class="note-color-palette" data-target-event="backColor"></div></div><div class="btn-group"><div class="note-palette-title">'+t.color.foreground+'</div><div class="note-color-reset" data-event="foreColor" data-value="inherit" title="'+t.color.reset+'">'+t.color.resetToDefault+'</div><div class="note-color-palette" data-target-event="foreColor"></div></div></li></ul>'},bold:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.font.bold+'" data-shortcut="Ctrl+B" data-mac-shortcut="\u2318+B" data-event="bold" tabindex="-1"><i class="fa fa-bold icon-bold"></i></button>'},italic:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.font.italic+'" data-shortcut="Ctrl+I" data-mac-shortcut="\u2318+I" data-event="italic" tabindex="-1"><i class="fa fa-italic icon-italic"></i></button>'},underline:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.font.underline+'" data-shortcut="Ctrl+U" data-mac-shortcut="\u2318+U" data-event="underline" tabindex="-1"><i class="fa fa-underline icon-underline"></i></button>'},strike:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.font.strike+'" data-event="strikethrough" tabindex="-1"><i class="fa fa-strikethrough icon-strikethrough"></i></button>'},clear:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.font.clear+'" data-shortcut="Ctrl+\\" data-mac-shortcut="\u2318+\\" data-event="removeFormat" tabindex="-1"><i class="fa fa-eraser icon-eraser"></i></button>'},ul:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.lists.unordered+'" data-shortcut="Ctrl+Shift+8" data-mac-shortcut="\u2318+\u21e7+7" data-event="insertUnorderedList" tabindex="-1"><i class="fa fa-list-ul icon-list-ul"></i></button>'},ol:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.lists.ordered+'" data-shortcut="Ctrl+Shift+7" data-mac-shortcut="\u2318+\u21e7+8" data-event="insertOrderedList" tabindex="-1"><i class="fa fa-list-ol icon-list-ol"></i></button>'},paragraph:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+t.paragraph.paragraph+'" data-toggle="dropdown" tabindex="-1"><i class="fa fa-align-left icon-align-left"></i>  <span class="caret"></span></button><div class="dropdown-menu"><div class="note-align btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.left+'" data-shortcut="Ctrl+Shift+L" data-mac-shortcut="\u2318+\u21e7+L" data-event="justifyLeft" tabindex="-1"><i class="fa fa-align-left icon-align-left"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.center+'" data-shortcut="Ctrl+Shift+E" data-mac-shortcut="\u2318+\u21e7+E" data-event="justifyCenter" tabindex="-1"><i class="fa fa-align-center icon-align-center"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.right+'" data-shortcut="Ctrl+Shift+R" data-mac-shortcut="\u2318+\u21e7+R" data-event="justifyRight" tabindex="-1"><i class="fa fa-align-right icon-align-right"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.justify+'" data-shortcut="Ctrl+Shift+J" data-mac-shortcut="\u2318+\u21e7+J" data-event="justifyFull" tabindex="-1"><i class="fa fa-align-justify icon-align-justify"></i></button></div><div class="note-list btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.outdent+'" data-shortcut="Ctrl+[" data-mac-shortcut="\u2318+[" data-event="outdent" tabindex="-1"><i class="fa fa-outdent icon-indent-left"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.indent+'" data-shortcut="Ctrl+]" data-mac-shortcut="\u2318+]" data-event="indent" tabindex="-1"><i class="fa fa-indent icon-indent-right"></i></button></div></div>'},height:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" data-toggle="dropdown" title="'+t.font.height+'" tabindex="-1"><i class="fa fa-text-height icon-text-height"></i>&nbsp; <b class="caret"></b></button><ul class="dropdown-menu"><li><a data-event="lineHeight" data-value="1.0"><i class="fa fa-check icon-ok"></i> 1.0</a></li><li><a data-event="lineHeight" data-value="1.2"><i class="fa fa-check icon-ok"></i> 1.2</a></li><li><a data-event="lineHeight" data-value="1.4"><i class="fa fa-check icon-ok"></i> 1.4</a></li><li><a data-event="lineHeight" data-value="1.5"><i class="fa fa-check icon-ok"></i> 1.5</a></li><li><a data-event="lineHeight" data-value="1.6"><i class="fa fa-check icon-ok"></i> 1.6</a></li><li><a data-event="lineHeight" data-value="1.8"><i class="fa fa-check icon-ok"></i> 1.8</a></li><li><a data-event="lineHeight" data-value="2.0"><i class="fa fa-check icon-ok"></i> 2.0</a></li><li><a data-event="lineHeight" data-value="3.0"><i class="fa fa-check icon-ok"></i> 3.0</a></li></ul>'},help:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.options.help+'" data-event="showHelpDialog" tabindex="-1"><i class="fa fa-question icon-question"></i></button>'},fullscreen:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.options.fullscreen+'" data-event="fullscreen" tabindex="-1"><i class="fa fa-arrows-alt icon-fullscreen"></i></button>'},codeview:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.options.codeview+'" data-event="codeview" tabindex="-1"><i class="fa fa-code icon-code"></i></button>'},undo:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.history.undo+'" data-event="undo" tabindex="-1"><i class="fa fa-undo icon-undo"></i></button>'},redo:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.history.redo+'" data-event="redo" tabindex="-1"><i class="fa fa-repeat icon-repeat"></i></button>'}},n=function(t){return'<div class="note-popover"><div class="note-link-popover popover bottom in" style="display: none;"><div class="arrow"></div><div class="popover-content note-link-content"><a href="http://www.google.com" target="_blank">www.google.com</a>&nbsp;&nbsp;<div class="note-insert btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.link.edit+'" data-event="showLinkDialog" tabindex="-1"><i class="fa fa-edit icon-edit"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.link.unlink+'" data-event="unlink" tabindex="-1"><i class="fa fa-unlink icon-unlink"></i></button></div></div></div><div class="note-image-popover popover bottom in" style="display: none;"><div class="arrow"></div><div class="popover-content note-image-content"><div class="btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.resizeFull+'" data-event="resize" data-value="1" tabindex="-1"><span class="note-fontsize-10">100%</span> </button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.resizeHalf+'" data-event="resize" data-value="0.5" tabindex="-1"><span class="note-fontsize-10">50%</span> </button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.resizeQuarter+'" data-event="resize" data-value="0.25" tabindex="-1"><span class="note-fontsize-10">25%</span> </button></div><div class="btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.floatLeft+'" data-event="floatMe" data-value="left" tabindex="-1"><i class="fa fa-align-left icon-align-left"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.floatRight+'" data-event="floatMe" data-value="right" tabindex="-1"><i class="fa fa-align-right icon-align-right"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.floatNone+'" data-event="floatMe" data-value="none" tabindex="-1"><i class="fa fa-align-justify icon-align-justify"></i></button></div><div class="btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.remove+'" data-event="removeMedia" data-value="none" tabindex="-1"><i class="fa fa-trash-o icon-trash"></i></button></div></div></div></div>'};var r=function(){return'<div class="note-handle"><div class="note-control-selection"><div class="note-control-selection-bg"></div><div class="note-control-holder note-control-nw"></div><div class="note-control-holder note-control-ne"></div><div class="note-control-holder note-control-sw"></div><div class="note-control-sizing note-control-se"></div><div class="note-control-selection-info"></div></div></div>'},l=function(t){return'<table class="note-shortcut"><thead><tr><th></th><th>'+t.shortcut.textFormatting+"</th></tr></thead><tbody><tr><td>\u2318 + B</td><td>"+t.font.bold+"</td></tr><tr><td>\u2318 + I</td><td>"+t.font.italic+"</td></tr><tr><td>\u2318 + U</td><td>"+t.font.underline+"</td></tr><tr><td>\u2318 + \u21e7 + S</td><td>"+t.font.strike+"</td></tr><tr><td>\u2318 + \\</td><td>"+t.font.clear+"</td></tr></tr></tbody></table>"},h=function(t){return'<table class="note-shortcut"><thead><tr><th></th><th>'+t.shortcut.action+"</th></tr></thead><tbody><tr><td>\u2318 + Z</td><td>"+t.history.undo+"</td></tr><tr><td>\u2318 + \u21e7 + Z</td><td>"+t.history.redo+"</td></tr><tr><td>\u2318 + ]</td><td>"+t.paragraph.indent+"</td></tr><tr><td>\u2318 + [</td><td>"+t.paragraph.outdent+"</td></tr><tr><td>\u2318 + ENTER</td><td>"+t.hr.insert+"</td></tr></tbody></table>"},c=function(t,e){var i='<table class="note-shortcut"><thead><tr><th></th><th>'+t.shortcut.extraKeys+"</th></tr></thead><tbody>";for(var n in e.extraKeys)e.extraKeys.hasOwnProperty(n)&&(i+="<tr><td>"+n+"</td><td>"+e.extraKeys[n]+"</td></tr>");return i+="</tbody></table>"},u=function(t){return'<table class="note-shortcut"><thead><tr><th></th><th>'+t.shortcut.paragraphFormatting+"</th></tr></thead><tbody><tr><td>\u2318 + \u21e7 + L</td><td>"+t.paragraph.left+"</td></tr><tr><td>\u2318 + \u21e7 + E</td><td>"+t.paragraph.center+"</td></tr><tr><td>\u2318 + \u21e7 + R</td><td>"+t.paragraph.right+"</td></tr><tr><td>\u2318 + \u21e7 + J</td><td>"+t.paragraph.justify+"</td></tr><tr><td>\u2318 + \u21e7 + NUM7</td><td>"+t.lists.ordered+"</td></tr><tr><td>\u2318 + \u21e7 + NUM8</td><td>"+t.lists.unordered+"</td></tr></tbody></table>"},d=function(t){return'<table class="note-shortcut"><thead><tr><th></th><th>'+t.shortcut.documentStyle+"</th></tr></thead><tbody><tr><td>\u2318 + NUM0</td><td>"+t.style.normal+"</td></tr><tr><td>\u2318 + NUM1</td><td>"+t.style.h1+"</td></tr><tr><td>\u2318 + NUM2</td><td>"+t.style.h2+"</td></tr><tr><td>\u2318 + NUM3</td><td>"+t.style.h3+"</td></tr><tr><td>\u2318 + NUM4</td><td>"+t.style.h4+"</td></tr><tr><td>\u2318 + NUM5</td><td>"+t.style.h5+"</td></tr><tr><td>\u2318 + NUM6</td><td>"+t.style.h6+"</td></tr></tbody></table>"},f=function(t,e){var i='<table class="note-shortcut-layout"><tbody><tr><td>'+h(t,e)+"</td><td>"+l(t,e)+"</td></tr><tr><td>"+d(t,e)+"</td><td>"+u(t,e)+"</td></tr>";return e.extraKeys&&(i+='<tr><td colspan="2">'+c(t,e)+"</td></tr>"),i+="</tbody</table>"},p=function(t){return t.replace(/\u2318/g,"Ctrl").replace(/\u21e7/g,"Shift")};a=function(t,e){var n=function(){return'<div class="note-image-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4>'+t.image.insert+'</h4></div><div class="modal-body"><div class="row-fluid"><h5>'+t.image.selectFromFiles+'</h5><input class="note-image-input" type="file" name="files" accept="image/*" /><h5>'+t.image.url+'</h5><input class="note-image-url form-control span12" type="text" /></div></div><div class="modal-footer"><button href="#" class="btn btn-primary note-image-btn disabled" disabled="disabled">'+t.image.insert+"</button></div></div></div></div>"},r=function(){return'<div class="note-link-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4>'+t.link.insert+'</h4></div><div class="modal-body"><div class="row-fluid"><div class="form-group"><label>'+t.link.textToDisplay+'</label><input class="note-link-text form-control span12" disabled type="text" /></div><div class="form-group"><label>'+t.link.url+'</label><input class="note-link-url form-control span12" type="text" /></div>'+(e.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+t.link.openInNewWindow+"</label></div>")+'</div></div><div class="modal-footer"><button href="#" class="btn btn-primary note-link-btn disabled" disabled="disabled">'+t.link.insert+"</button></div></div></div></div>"},s=function(){return'<div class="note-video-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4>'+t.video.insert+'</h4></div><div class="modal-body"><div class="row-fluid"><div class="form-group"><label>'+t.video.url+'</label>&nbsp;<small class="text-muted">'+t.video.providers+'</small><input class="note-video-url form-control span12" type="text" /></div></div></div><div class="modal-footer"><button href="#" class="btn btn-primary note-video-btn disabled" disabled="disabled">'+t.video.insert+"</button></div></div></div></div>"},a=function(){return'<div class="note-help-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-body"><a class="modal-close pull-right" aria-hidden="true" tabindex="-1">'+t.shortcut.close+'</a><div class="title">'+t.shortcut.shortcuts+"</div>"+(i.bMac?f(t,e):p(f(t,e)))+'<p class="text-center"><a href="//hackerwins.github.io/summernote/" target="_blank">Summernote 0.5.2</a> \xb7 <a href="//github.com/HackerWins/summernote" target="_blank">Project</a> \xb7 <a href="//github.com/HackerWins/summernote/issues" target="_blank">Issues</a></p></div></div></div></div>'};return'<div class="note-dialog">'+n()+r()+s()+a()+"</div>"},o=function(){return'<div class="note-resizebar"><div class="note-icon-bar"></div><div class="note-icon-bar"></div><div class="note-icon-bar"></div></div>'};var g=function(e,n){e.find("button").each(function(e,n){var r=t(n),s=r.attr(i.bMac?"data-mac-shortcut":"data-shortcut");s&&r.attr("title",function(t,e){return e+" ("+s+")"})}).tooltip({container:"body",trigger:"hover",placement:n||"top"}).on("click",function(){t(this).tooltip("hide")})},m=[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],v=function(e){e.find(".note-color-palette").each(function(){for(var e=t(this),i=e.attr("data-target-event"),n=[],r=0,s=m.length;s>r;r++){for(var a=m[r],o=[],l=0,h=a.length;h>l;l++){var c=a[l];o.push(['<button type="button" class="note-color-btn" style="background-color:',c,';" data-event="',i,'" data-value="',c,'" title="',c,'" data-toggle="button" tabindex="-1"></button>'].join(""))}n.push("<div>"+o.join("")+"</div>")}e.html(n.join(""))})};this.createLayout=function(i,l){var h=i.next();if(!h||!h.hasClass("note-editor")){var c=t('<div class="note-editor"></div>');l.width&&c.width(l.width),l.height>0&&t('<div class="note-statusbar">'+o()+"</div>").prependTo(c);var u=!i.is(":disabled"),d=t('<div class="note-editable" contentEditable="'+u+'"></div>').prependTo(c);l.height&&d.height(l.height),l.direction&&d.attr("dir",l.direction),d.html(s.html(i)||s.emptyPara),t('<textarea class="note-codable"></textarea>').prependTo(c);for(var f=t.summernote.lang[l.lang],p="",m=0,y=l.toolbar.length;y>m;m++){var b=l.toolbar[m];p+='<div class="note-'+b[0]+' btn-group">';for(var x=0,w=b[1].length;w>x;x++)p+=e[b[1][x]](f);p+="</div>"}p='<div class="note-toolbar btn-toolbar">'+p+"</div>";var _=t(p).prependTo(c);v(_),g(_,"bottom");var k=t(n(f)).prependTo(c);g(k),t(r()).prependTo(c);var C=t(a(f,l)).prependTo(c);C.find("button.close, a.modal-close").click(function(){t(this).closest(".modal").modal("hide")}),t('<div class="note-dropzone"><div class="note-dropzone-message"></div></div>').prependTo(c),c.insertAfter(i),i.hide()}},this.layoutInfoFromHolder=function(t){var e=t.next();if(e.hasClass("note-editor")){var i=s.buildLayoutInfo(e);for(var n in i)i.hasOwnProperty(n)&&(i[n]=i[n].call());return i}},this.removeLayout=function(t){var e=this.layoutInfoFromHolder(t);e&&(t.html(e.editable.html()),e.editor.remove(),t.show())}};t.summernote=t.summernote||{},t.extend(t.summernote,a);var x=new b,w=new y;t.fn.extend({summernote:function(e){if(e=t.extend({},t.summernote.options,e),this.each(function(i,n){var r=t(n);x.createLayout(r,e);var a=x.layoutInfoFromHolder(r);w.attach(a,e),s.isTextarea(r[0])&&r.closest("form").submit(function(){r.html(r.code())})}),this.first()&&e.focus){var i=x.layoutInfoFromHolder(this.first());i.editable.focus()}return this.length>0&&e.oninit&&e.oninit(),this},code:function(e){if(void 0===e){var n=this.first();if(0===n.length)return;var r=x.layoutInfoFromHolder(n);if(r&&r.editable){var s=r.editor.hasClass("codeview");return s&&i.bCodeMirror&&r.codable.data("cmEditor").save(),s?r.codable.val():r.editable.html()}return n.html()}return this.each(function(i,n){var r=x.layoutInfoFromHolder(t(n));r&&r.editable&&r.editable.html(e)}),this},destroy:function(){return this.each(function(e,i){var n=t(i),r=x.layoutInfoFromHolder(n);r&&r.editable&&(w.dettach(r),x.removeLayout(n))}),this}})});